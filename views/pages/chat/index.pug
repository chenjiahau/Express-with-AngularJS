extends ../../layout

block content
  style.
    body{
        padding: 0;
        background-color: #3B4048;
        color: white;
    }
    .namespaces{
        background-color: #282c34;
        min-height: 100vh;
        color: #ABB2BF;
        text-align: center;
    }
    .namespaces img{
        margin-top: 10px;
        background-color: #ABB2BF;
        border-radius: 10px;
        cursor: pointer;
        width:45px;
    }
    .room-list{
        padding-left: 0px;
    }

    .room-list li{
        cursor: pointer;
        list-style-type: none;
        padding: 0px 15px;
    }
    .room-list li span{
        margin-right: 5px;
    }
    .room-list li.active{
        background-color: #61AFEF;
        color: #fff
    }
    .rooms{
        background: #3B4048;
        min-height: 100vh;
        color: #ABB2BF;
        
    }
    .chat-panel{
        background-color: #fff;
        min-height: 100vh;
        position: relative;
        padding-top: 10px;
    }
    .chat-panel .curr-room-text{
        color: #282c34;
        font-size: 26px;
    }
    .curr-room-num-users, .search{
        font-size: 14px;
        color: #ABB2BF;
        position: realtive;
    }
    .search{
        margin-top: 5px;
    }
    .search span{
        position: absolute;
        left: 25px;
        top: 10px;
    }

    .search input{
        padding-left: 30px;
    }
    .message-form { 
        margin: 0px; margin-bottom: 10px;
        position: absolute;
        bottom: 0;
        width: 98%
    }
    input { 
        width: 100%; 
        height: 34px; 
        color: #ABB2BF; 
        border: 1px solid #3B4048; 
        border-radius: 5px;
        padding-left: 5px;
    }
    #messages { 
        list-style-type: none; margin: 0; padding: 0; 
        color: #3B4048;
        max-height: 85%;
        overflow: scroll;
    }
    #messages li .user-image{
        /* width: 50px; */
        /* display: inline-block; */
    }
    #messages li .user-message{
        margin-left: 10px;
        color: #222;
    }

    #messages li .user-name-time span{
        color: #ABB2BF;
    }

    #messages li { 
        padding: 5px 10px; 
        display: flex;
        align-items: stretch;
    }

  .container-fluid(ng-controller="ChatController")
    .row
      .col-sm-1.namespaces
        .namespace(
          ng-repeat="namespace in namespaces",
          ns="{{namespace.endpoint}}",
          ng-click='changeNamespace(namespace)'
        )
          img(ng-src="{{namespace.img}}")
      .col-sm-3.rooms
        h3 Rooms
        ul.room-list
          li(
            ng-repeat='room in rooms',
            ng-click='changeRoom(room)'
          )
            span.bi.bi-chat-quote-fill(ng-show='!room.privateRoom')
            span.bi.bi-chat-quote(ng-show='room.privateRoom')
            | {{room.roomTitle}}
      .col-sm-8.chat-panel
        .room-header.row
          .col-sm-8
            span.curr-room-text {{room.roomTitle}}
            span.curr-room-num-users(style='margin-left: 20px;')
              | Users({{userCount}})
              span.glyphicon.glyphicon-user
          .col-sm-3.search.pull-right
            span.glyphicon.glyphicon-search
            input#search-box(type='text' placeholder='Search')
        .message-form
          form#user-input
            .col-sm-12
              input#user-message(
                type='text',
                placeholder='Enter your message',
                ng-model='message',
                ng-keypress='sendMessage($event)'
              )
        ul#messages.col-sm-12
          li(ng-repeat='message in messages')
            .user-image
              img(src='https://via.placeholder.com/30')
            .user-message
              .user-name-time
                | {{message.username}}
                span {{message.time}}
              .message-text {{message.text}}

  script(src='/scripts/angularJS/module/controllers/chat-controller.js')
